/* Theme variables */
:root {
  --bg-primary: #1a1a2e;
  --bg-secondary: #16213e;
  --bg-tertiary: #0f3460;
  --bg-hover: #1a4080;
  --bg-input: #0a0a1a;
  --bg-panel: #0f1a30;
  --border-primary: #0f3460;
  --border-secondary: #1a4080;
  --text-primary: #e0e0e0;
  --text-secondary: #a0a0c0;
  --text-tertiary: #808090;
  --text-dim: #606080;
  --text-dimmer: #404060;
  --accent-red: #e94560;
  --accent-blue: #4fc3f7;
  --accent-green: #4ecca3;
  --shadow: rgba(0,0,0,0.3);
  --shadow-heavy: rgba(0,0,0,0.5);
  --backdrop: rgba(0,0,0,0.6);
  --table-stripe: rgba(255,255,255,0.02);
  --tint-green: #0a3d2a;
  --tint-red: #3d0a0a;
  --tint-yellow: #3d3a0a;
  --tint-orange: #3d2a0a;
  --scrollbar-thumb: #0f3460;
  --scrollbar-track: #0a0a1a;
  --map-tile-filter: brightness(0.6) invert(1) contrast(3) hue-rotate(200deg) saturate(0.3) brightness(0.7);
}

[data-theme="light"] {
  --bg-primary: #f0f2f5;
  --bg-secondary: #ffffff;
  --bg-tertiary: #e8eaed;
  --bg-hover: #d0d4da;
  --bg-input: #ffffff;
  --bg-panel: #f5f5f8;
  --border-primary: #c0c4cc;
  --border-secondary: #d8dce4;
  --text-primary: #1a1a2e;
  --text-secondary: #4a4a6a;
  --text-tertiary: #6a6a80;
  --text-dim: #8a8a9a;
  --text-dimmer: #a0a0b0;
  --accent-red: #d32f2f;
  --accent-blue: #1976d2;
  --accent-green: #2e7d5a;
  --shadow: rgba(0,0,0,0.1);
  --shadow-heavy: rgba(0,0,0,0.2);
  --backdrop: rgba(0,0,0,0.3);
  --table-stripe: rgba(0,0,0,0.03);
  --tint-green: #d4edda;
  --tint-red: #f8d7da;
  --tint-yellow: #fff3cd;
  --tint-orange: #fde8cd;
  --scrollbar-thumb: #c0c4cc;
  --scrollbar-track: #e8eaed;
  --map-tile-filter: none;
}

.help-text {
  color: var(--text-tertiary);
  font-size: 0.85em;
}
.learn-btn { font-size:11px; padding:2px 8px; background:var(--bg-tertiary); color:var(--accent-blue); border:1px solid var(--accent-blue); border-radius:3px; cursor:pointer; }
.learn-btn:hover { background:var(--accent-blue); color:var(--bg-primary); }
.learn-btn.learning { background:var(--accent-red); border-color:var(--accent-red); color:#fff; animation: pulse 1s infinite; }
@keyframes pulse { 0%,100%{opacity:1} 50%{opacity:0.6} }

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: "Segoe UI", Consolas, monospace;
  background: var(--bg-primary);
  color: var(--text-primary);
  font-size: 14px;
  height: 100vh;
  overflow: hidden;
}

/* Custom titlebar */
.titlebar {
  background: var(--bg-secondary);
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  -webkit-app-region: drag;
  user-select: none;
  padding-left: 12px;
  border-bottom: 1px solid var(--border-primary);
}

.titlebar-title {
  font-size: 13px;
  font-weight: bold;
  color: var(--accent-blue);
  letter-spacing: 0.5px;
}

.titlebar-controls {
  display: flex;
  -webkit-app-region: no-drag;
}

.titlebar-btn {
  background: transparent;
  border: none;
  color: var(--text-secondary);
  width: 46px;
  height: 32px;
  font-size: 13px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 0;
  padding: 0;
}

.titlebar-btn:hover {
  background: var(--bg-hover);
  color: var(--text-primary);
}

.titlebar-close:hover {
  background: var(--accent-red);
  color: #fff;
}

.platform-darwin .titlebar {
  padding-left: 70px;
}

.platform-darwin .titlebar-controls {
  display: none;
}

header {
  background: var(--bg-secondary);
  padding: 10px 16px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 16px;
  border-bottom: 1px solid var(--border-primary);
  position: relative;
}

.filters {
  display: flex;
  gap: 12px;
  align-items: center;
}

/* Multi-select dropdowns */
.multi-dropdown {
  position: relative;
}

.multi-dropdown-btn {
  background: var(--bg-tertiary);
  color: var(--text-primary);
  border: 1px solid var(--border-secondary);
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 13px;
  cursor: pointer;
  white-space: nowrap;
}

.multi-dropdown-btn:hover {
  background: var(--bg-hover);
}

.multi-dropdown-text {
  color: var(--accent-blue);
}

.multi-dropdown-menu {
  display: none;
  position: absolute;
  top: 100%;
  left: 0;
  z-index: 10000;
  background: var(--bg-secondary);
  border: 1px solid var(--border-secondary);
  border-radius: 4px;
  padding: 4px 0;
  margin-top: 2px;
  min-width: 120px;
  max-height: 260px;
  overflow-y: auto;
  box-shadow: 0 4px 12px var(--shadow-heavy);
}

.multi-dropdown.open .multi-dropdown-menu {
  display: block;
}

.multi-dropdown-item {
  display: flex !important;
  align-items: center;
  gap: 6px;
  padding: 4px 10px;
  font-size: 13px;
  color: var(--text-primary);
  cursor: pointer;
  white-space: nowrap;
  margin-bottom: 0 !important;
}

.multi-dropdown-item:hover {
  background: var(--bg-hover);
}

.multi-dropdown-item input[type="checkbox"] {
  width: auto;
  margin: 0;
  accent-color: var(--accent-red);
}

/* Spots dropdown panel */
.spots-dropdown-panel {
  display: none;
  position: absolute;
  top: 100%;
  left: 0;
  z-index: 10000;
  background: var(--bg-secondary);
  border: 1px solid var(--border-secondary);
  border-radius: 4px;
  padding: 6px 0;
  margin-top: 2px;
  min-width: 180px;
  box-shadow: 0 4px 12px var(--shadow-heavy);
}

.multi-dropdown.open .spots-dropdown-panel,
.multi-dropdown.open .settings-dropdown-panel {
  display: block;
}

/* Settings quick-access dropdown */
.settings-dropdown-panel {
  display: none;
  position: absolute;
  right: 0;
  top: 100%;
  background: var(--bg-secondary);
  border: 1px solid var(--border-primary);
  border-radius: 6px;
  padding: 10px 14px;
  min-width: 200px;
  z-index: 1000;
  box-shadow: 0 4px 12px var(--shadow-heavy);
}

.switch-label.compact {
  gap: 10px;
  font-size: 12px;
  padding: 4px 0;
  margin-bottom: 0;
}

.settings-dropdown-link {
  display: block;
  width: 100%;
  background: none;
  border: 1px solid var(--border-primary);
  border-radius: 4px;
  color: var(--text-secondary);
  font-size: 12px;
  padding: 5px 0;
  cursor: pointer;
  text-align: center;
  margin-top: 2px;
}
.settings-dropdown-link:hover {
  background: var(--bg-hover);
  color: var(--text-primary);
}

.spots-panel-section-label {
  padding: 4px 10px 2px;
  font-size: 10px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: var(--text-tertiary);
}

.spots-panel-divider {
  height: 1px;
  background: var(--border-primary);
  margin: 4px 10px;
}

.spots-toggle {
  display: flex !important;
  align-items: center;
  gap: 6px;
  padding: 3px 10px;
  font-size: 13px;
  color: var(--text-primary);
  cursor: pointer;
  white-space: nowrap;
  margin-bottom: 0 !important;
}

.spots-toggle:hover {
  background: var(--bg-hover);
}

.spots-toggle input[type="checkbox"] {
  width: auto;
  margin: 0;
  accent-color: var(--accent-red);
}

.filters label {
  display: flex;
  align-items: center;
  gap: 4px;
  color: var(--text-secondary);
  font-size: 13px;
}

select, button, input {
  background: var(--bg-tertiary);
  color: var(--text-primary);
  border: 1px solid var(--border-secondary);
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 13px;
}

select:focus, input:focus {
  outline: 1px solid var(--accent-red);
}

button {
  cursor: pointer;
}

button:hover {
  background: var(--bg-hover);
}

.status-bar {
  display: flex;
  gap: 16px;
  align-items: center;
  flex-shrink: 0;
  font-size: 12px;
  color: var(--text-tertiary);
  position: relative;
}

.status {
  padding: 2px 8px;
  border-radius: 3px;
  font-weight: bold;
  font-size: 11px;
}

.status.connected {
  background: var(--tint-green);
  color: var(--accent-green);
}

.status.disconnected {
  background: var(--tint-red);
  color: var(--accent-red);
}

.status.warn {
  background: var(--tint-yellow);
  color: #f0d050;
}

/* Update banner */
#update-banner {
  background: var(--tint-green);
  border-bottom: 1px solid var(--accent-green);
  padding: 6px 16px;
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 13px;
  color: var(--text-primary);
}

/* Banner-to-main height calculation: both banners can stack */
#update-banner.hidden + #event-banner.hidden + main {
  height: calc(100vh - 52px - 32px);
}
#update-banner:not(.hidden) + #event-banner.hidden + main {
  height: calc(100vh - 52px - 32px - 33px);
}
#update-banner.hidden + #event-banner:not(.hidden) + main {
  height: calc(100vh - 52px - 32px - 33px);
}
#update-banner:not(.hidden) + #event-banner:not(.hidden) + main {
  height: calc(100vh - 52px - 32px - 66px);
}

.cat-log-open #update-banner.hidden + #event-banner.hidden + main {
  height: calc(100vh - 52px - 32px - 150px);
}
.cat-log-open #update-banner:not(.hidden) + #event-banner.hidden + main {
  height: calc(100vh - 52px - 32px - 33px - 150px);
}
.cat-log-open #update-banner.hidden + #event-banner:not(.hidden) + main {
  height: calc(100vh - 52px - 32px - 33px - 150px);
}
.cat-log-open #update-banner:not(.hidden) + #event-banner:not(.hidden) + main {
  height: calc(100vh - 52px - 32px - 66px - 150px);
}

#update-message {
  color: #4ecca3;
  font-weight: bold;
}

.update-action-btn {
  background: #4ecca3;
  color: #1a1a2e;
  border: none;
  border-radius: 3px;
  padding: 2px 10px;
  font-size: 12px;
  font-weight: bold;
  cursor: pointer;
}

.update-action-btn:hover {
  background: #6ee6bd;
}

.update-action-btn:disabled {
  background: #3a9a7a;
  cursor: default;
}

.update-action-btn.hidden {
  display: none;
}

#update-link {
  color: var(--accent-blue);
  text-decoration: none;
  cursor: pointer;
}

#update-link.hidden {
  display: none;
}

#update-link:hover {
  text-decoration: underline;
}

#support-link {
  color: #f0a500;
  text-decoration: none;
  cursor: pointer;
}

#support-link:hover {
  text-decoration: underline;
}

.update-sep {
  color: var(--text-tertiary);
}

#update-dismiss {
  margin-left: auto;
  background: transparent;
  border: none;
  color: var(--text-tertiary);
  font-size: 16px;
  cursor: pointer;
  padding: 0 4px;
  line-height: 1;
}

#update-dismiss:hover {
  color: var(--accent-red);
  background: transparent;
}

/* Event banner */
#event-banner {
  background: rgba(255, 107, 0, 0.08);
  border-bottom: 1px solid #ff6b00;
  padding: 6px 16px;
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 13px;
  color: var(--text-primary);
}

#event-banner.hidden {
  display: none;
}

.event-badge-inline {
  background: #ff6b00;
  color: #fff;
  font-size: 10px;
  font-weight: 700;
  padding: 2px 5px;
  border-radius: 3px;
  flex-shrink: 0;
}

#event-message {
  color: var(--text-primary);
}

#event-progress-count {
  color: #ff6b00;
  font-weight: bold;
  font-size: 12px;
}

.event-action-btn {
  background: #ff6b00;
  color: #fff;
  border: none;
  border-radius: 3px;
  padding: 2px 10px;
  font-size: 12px;
  font-weight: bold;
  cursor: pointer;
  white-space: nowrap;
}

.event-action-btn:hover {
  background: #ff8533;
}

.event-action-btn.hidden {
  display: none;
}

#event-dismiss {
  margin-left: auto;
  background: transparent;
  border: none;
  color: var(--text-tertiary);
  font-size: 16px;
  cursor: pointer;
  padding: 0 4px;
  line-height: 1;
}

#event-dismiss:hover {
  color: var(--accent-red);
}

/* Event progress overlay */
#event-progress-overlay {
  position: absolute;
  bottom: 12px;
  right: 12px;
  background: var(--bg-secondary);
  border: 1px solid #ff6b00;
  border-radius: 8px;
  padding: 0;
  font-size: 13px;
  color: var(--text-secondary);
  z-index: 501;
  min-width: 280px;
  max-width: 340px;
  box-shadow: 0 4px 16px var(--shadow-heavy);
}

.event-overlay-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 8px 12px;
  border-bottom: 1px solid var(--border-primary);
  font-weight: bold;
  font-size: 12px;
  color: #ff6b00;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.event-overlay-header button:last-child {
  background: none;
  border: none;
  color: var(--text-tertiary);
  font-size: 16px;
  cursor: pointer;
  padding: 0 2px;
  line-height: 1;
}

.event-overlay-header button:last-child:hover {
  color: var(--text-primary);
}

.event-overlay-btn {
  font-size: 10px;
  padding: 2px 6px;
  border-radius: 3px;
  background: var(--bg-tertiary);
  color: var(--text-secondary);
  border: 1px solid var(--border-secondary);
  cursor: pointer;
}

.event-overlay-btn:hover {
  background: var(--bg-hover);
  color: var(--text-primary);
}

#event-state-grid {
  display: grid;
  grid-template-columns: repeat(10, 1fr);
  gap: 2px;
  padding: 8px;
}

.event-state-cell {
  text-align: center;
  font-size: 10px;
  font-weight: 600;
  padding: 4px 2px;
  border-radius: 3px;
  background: var(--bg-tertiary);
  color: var(--text-dim);
  cursor: default;
  position: relative;
}

.event-state-cell.worked {
  background: var(--accent-green);
  color: #1a1a2e;
}

.event-state-cell.active-week {
  outline: 2px solid #ff6b00;
  outline-offset: -1px;
  color: #ff6b00;
  font-weight: 700;
}

.event-state-cell.active-week.worked {
  color: #1a1a2e;
}

/* Event checklist board (13 Colonies etc.) */
.event-checklist-item {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 4px 12px;
  font-size: 12px;
  color: var(--text-secondary);
}

.event-checklist-item.worked {
  color: var(--accent-green);
}

/* Event counter board (contests) */
.event-counter-value {
  font-size: 36px;
  font-weight: bold;
  text-align: center;
  padding: 12px;
  color: var(--text-primary);
}

/* Event badge on spot table rows */
.event-badge {
  margin-left: 4px;
  font-size: 9px;
  font-weight: 700;
  padding: 1px 3px;
  border-radius: 3px;
  background: #ff6b00;
  color: #fff;
  vertical-align: middle;
  cursor: default;
}

main {
  position: relative;
  padding: 0;
  overflow: hidden;
  height: calc(100vh - 52px - 32px);
}

/* Split container for simultaneous table + map */
#split-container {
  display: flex;
  height: 100%;
  width: 100%;
}

#split-container.split-horizontal {
  flex-direction: row;
}

#split-container.split-vertical {
  flex-direction: column;
}

#table-pane {
  flex: 1;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  min-width: 0;
  min-height: 0;
}

#table-scroll-wrap {
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
}

#map-pane {
  flex: 1;
  min-width: 0;
  min-height: 0;
  overflow: hidden;
}

#map-pane #map-container {
  height: 100%;
}

#split-splitter {
  flex-shrink: 0;
  background: var(--border-primary);
}

#split-container.split-horizontal > #split-splitter {
  width: 5px;
  cursor: col-resize;
}

#split-container.split-vertical > #split-splitter {
  height: 5px;
  cursor: row-resize;
}

#split-splitter:hover {
  background: var(--accent-red);
}

table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  table-layout: fixed;
}

thead th {
  background: var(--bg-secondary);
  position: relative;
  z-index: 2;
  will-change: transform;
  padding: 8px 10px;
  text-align: left;
  font-size: 12px;
  text-transform: uppercase;
  color: var(--text-secondary);
  cursor: pointer;
  user-select: none;
  border-bottom: 2px solid var(--border-primary);
}

thead th:hover {
  color: var(--accent-red);
}

thead th.sort-asc::after {
  content: " \25B2";
}

thead th.sort-desc::after {
  content: " \25BC";
}

tbody tr {
  cursor: pointer;
  border-bottom: 1px solid var(--border-primary);
}

tbody tr:hover {
  background: var(--bg-hover);
}

tbody td {
  padding: 6px 10px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

tbody td:nth-child(2) {
  font-family: Consolas, "Courier New", monospace;
}

a.qrz-link {
  color: var(--accent-blue);
  text-decoration: none;
  cursor: pointer;
}

a.qrz-link:hover {
  text-decoration: underline;
  color: #81d4fa;
}

.freq-link {
  color: var(--accent-blue);
  cursor: pointer;
  font-family: Consolas, "Courier New", monospace;
}

.freq-link:hover {
  color: #81d4fa;
  text-decoration: underline;
}

#no-spots {
  text-align: center;
  padding: 40px;
  color: var(--text-tertiary);
  font-size: 16px;
}

.hidden {
  display: none !important;
}

/* Scan */
.scan-active {
  background: var(--accent-red) !important;
  color: #fff !important;
  border-color: var(--accent-red) !important;
}

.scan-highlight {
  background: var(--bg-hover);
  outline: 2px solid var(--accent-blue);
  outline-offset: -2px;
}

.on-freq {
  background: var(--bg-hover);
  outline: 2px solid var(--accent-blue);
  outline-offset: -2px;
}

.scan-skipped {
  opacity: 0.4;
}

.skip-cell {
  text-align: center;
}

.skip-btn {
  font-size: 11px;
  padding: 2px 6px;
  border-radius: 3px;
  background: var(--bg-tertiary);
  color: var(--text-secondary);
  border: 1px solid var(--border-secondary);
  cursor: pointer;
}

.skip-btn:hover {
  background: var(--bg-hover);
  color: var(--text-primary);
}

.skip-btn.skipped {
  background: var(--tint-red);
  color: var(--accent-red);
  border-color: var(--accent-red);
}

th.no-sort {
  cursor: default;
}

th.no-sort:hover {
  color: var(--text-secondary);
}

/* Column resize handles */
.col-resize-handle {
  position: absolute;
  right: 0;
  top: 0;
  bottom: 0;
  width: 5px;
  cursor: col-resize;
  background: transparent;
}

.col-resize-handle:hover {
  background: var(--accent-red);
}

/* Column drag-and-drop reordering */
th[draggable="true"] { cursor: grab; }
th.col-dragging { opacity: 0.4; cursor: grabbing; }
th.col-drop-left { border-left: 2px solid var(--accent-blue) !important; }
th.col-drop-right { border-right: 2px solid var(--accent-blue) !important; }

/* Operator column */
.operator-col {
  color: var(--text-tertiary, #b0bec5);
  font-size: 12px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 120px;
}

/* Column visibility — hide both th and td via table class */
.hide-col-operator [data-col="operator"],
.hide-col-frequency [data-col="frequency"],
.hide-col-mode [data-col="mode"],
.hide-col-source [data-col="source"],
.hide-col-reference [data-col="reference"],
.hide-col-parkName [data-col="parkName"],
.hide-col-locationDesc [data-col="locationDesc"],
.hide-col-distance [data-col="distance"],
.hide-col-spotTime [data-col="spotTime"],
.hide-col-skip [data-col="skip"],
.hide-col-comments [data-col="comments"] {
  display: none;
}

/* Column context menu */
#col-context-menu {
  position: fixed;
  z-index: 9999;
  background: var(--bg-secondary);
  border: 1px solid var(--border-primary);
  border-radius: 4px;
  padding: 4px 0;
  box-shadow: 0 4px 12px var(--shadow-heavy);
  min-width: 140px;
}

.col-ctx-title {
  padding: 4px 12px;
  font-size: 11px;
  text-transform: uppercase;
  color: var(--text-tertiary);
  border-bottom: 1px solid var(--border-primary);
  margin-bottom: 2px;
}

.col-ctx-item {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 4px 12px;
  font-size: 13px;
  cursor: pointer;
  color: var(--text-primary);
}

.col-ctx-item:hover {
  background: var(--bg-hover);
}

.col-ctx-item input[type="checkbox"] {
  margin: 0;
}

/* Compact table mode (narrow pane in split view) */
#spots-table.compact .log-btn {
  padding: 2px 4px;
  font-size: 10px;
}

thead th {
  overflow: hidden;
  text-overflow: ellipsis;
}

/* UTC Clock */
.utc-clock {
  font-family: Consolas, "Courier New", monospace;
  font-size: 13px;
  font-weight: bold;
  color: var(--accent-blue);
  letter-spacing: 0.5px;
  padding-right: 8px;
  flex-shrink: 0;
}

/* View toggle */
.view-toggle {
  display: flex;
  gap: 0;
  margin-left: 8px;
}

.view-btn {
  border-radius: 0;
  border: 1px solid var(--border-secondary);
  padding: 4px 10px;
  font-size: 12px;
}

.view-btn:first-child {
  border-radius: 4px 0 0 4px;
}

.view-btn:not(:first-child):not(:last-child) {
  border-radius: 0;
}

.view-btn:last-child {
  border-radius: 0 4px 4px 0;
}

.view-btn.active {
  background: var(--accent-red);
  color: #fff;
  border-color: var(--accent-red);
}

.popout-btn {
  font-size: 14px;
  padding: 2px 8px;
  line-height: 1;
}

.popout-btn.popout-active {
  background: var(--accent-blue);
  color: #fff;
  border-color: var(--accent-blue);
  box-shadow: 0 0 6px rgba(79, 195, 247, 0.5);
}

/* Map */
#map-container {
  display: flex;
  flex-direction: column;
  height: 100%;
  width: 100%;
}

#map {
  flex: 1;
  width: 100%;
  background: var(--bg-primary);
  min-height: 0;
}

.dark-tiles {
  filter: var(--map-tile-filter);
}

#map .leaflet-popup-content-wrapper,
.leaflet-popup-content-wrapper {
  background: var(--bg-secondary);
  color: var(--text-primary);
  border-radius: 6px;
}

#map .leaflet-popup-tip,
.leaflet-popup-tip {
  background: var(--bg-secondary);
}

#map .leaflet-popup-content,
.leaflet-popup-content {
  margin: 10px 14px;
  font-size: 13px;
  line-height: 1.5;
}

#map .leaflet-popup-content a,
.leaflet-popup-content a {
  color: var(--accent-blue);
}

#map .leaflet-popup-content .tune-btn,
.leaflet-popup-content .tune-btn {
  background: var(--accent-red);
  color: #fff;
  border: none;
  padding: 3px 10px;
  border-radius: 3px;
  cursor: pointer;
  margin-top: 4px;
  font-size: 12px;
}

#map .leaflet-popup-content .tune-btn:hover,
.leaflet-popup-content .tune-btn:hover {
  background: #ff6b81;
}

/* Settings dialog */
dialog {
  background: var(--bg-secondary);
  color: var(--text-primary);
  border: 1px solid var(--border-primary);
  border-radius: 8px;
  padding: 20px;
  min-width: 300px;
}

#settings-dialog {
  max-width: 420px;
}

dialog::backdrop {
  background: var(--backdrop);
}

dialog h3 {
  margin-bottom: 16px;
  color: var(--accent-red);
}

dialog label {
  display: block;
  margin-bottom: 12px;
  font-size: 13px;
  color: var(--text-secondary);
}

dialog input, dialog select {
  display: block;
  margin-top: 4px;
  width: 100%;
  background: var(--bg-input);
}

.dialog-buttons {
  display: flex;
  gap: 8px;
  justify-content: flex-end;
  margin-top: 16px;
}

/* CAT dialog */
.cat-option {
  padding: 8px 12px;
  margin-bottom: 4px;
  border-radius: 4px;
  cursor: pointer;
  font-size: 13px;
  border: 1px solid transparent;
}

.cat-option:hover {
  background: var(--bg-hover);
}

.cat-option.selected {
  border-color: var(--accent-green);
  background: var(--tint-green);
}

.cat-option .cat-option-label {
  color: var(--text-primary);
}

.cat-option .cat-option-detail {
  color: var(--text-tertiary);
  font-size: 11px;
}

.cat-section-label {
  color: var(--text-tertiary);
  font-size: 11px;
  text-transform: uppercase;
  margin: 10px 0 4px 4px;
  letter-spacing: 0.5px;
}

.cat-section-label:first-child {
  margin-top: 0;
}

/* Spot source color-coding — left border + subtle row tint */
.spot-pota {
  border-left: 3px solid #4ecca3;
  background: rgba(78, 204, 163, 0.06);
}

.spot-sota {
  border-left: 3px solid #f0a500;
  background: rgba(240, 165, 0, 0.06);
}

.spot-dxc {
  border-left: 3px solid #e040fb;
  background: rgba(224, 64, 251, 0.06);
}

.spot-rbn {
  border-left: 3px solid #00bcd4;
  background: rgba(0, 188, 212, 0.06);
}

.spot-wwff {
  border-left: 3px solid #26a69a;
  background: rgba(38, 166, 154, 0.06);
}

.spot-llota {
  border-left: 3px solid #42a5f5;
  background: rgba(66, 165, 245, 0.06);
}

.spot-pskr {
  border-left: 3px solid #ff6b6b;
  background: rgba(255, 107, 107, 0.06);
}

/* Source badge in table column */
.source-badge {
  display: inline-block;
  font-size: 10px;
  font-weight: 700;
  padding: 1px 5px;
  border-radius: 3px;
  letter-spacing: 0.3px;
  white-space: nowrap;
}
.source-badge-pota { background: #4ecca3; color: #000; }
.source-badge-sota { background: #f0a500; color: #000; }
.source-badge-dxc  { background: #e040fb; color: #000; }
.source-badge-rbn  { background: #00bcd4; color: #000; }
.source-badge-wwff { background: #26a69a; color: #000; }
.source-badge-llota { background: #42a5f5; color: #000; }
.source-badge-pskr { background: #ff6b6b; color: #000; }

/* When row tinting is disabled, remove backgrounds but keep left borders */
.no-source-tint .spot-pota,
.no-source-tint .spot-sota,
.no-source-tint .spot-dxc,
.no-source-tint .spot-rbn,
.no-source-tint .spot-wwff,
.no-source-tint .spot-llota,
.no-source-tint .spot-pskr {
  background: transparent;
}

.potacat-respot {
  border-left: 3px solid #e94560 !important;
}

.donor-paw {
  margin-left: 4px;
  cursor: default;
  font-size: 12px;
}

.spot-expedition {
  border-left: 3px solid #ff1744;
  background: rgba(255, 23, 68, 0.08);
}

.expedition-badge {
  margin-left: 4px;
  font-size: 9px;
  font-weight: 700;
  padding: 1px 3px;
  border-radius: 3px;
  background: #ff9800;
  color: #1a1a2e;
  vertical-align: middle;
  cursor: default;
}

[data-col="comments"] {
  font-size: 12px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 180px;
}

/* Settings connection status bar */
.settings-conn-bar {
  display: flex;
  gap: 8px;
  margin-bottom: 10px;
  flex-wrap: wrap;
}

.conn-pill {
  display: inline-flex;
  align-items: center;
  gap: 5px;
  font-size: 12px;
  padding: 3px 10px;
  border-radius: 10px;
  background: var(--bg-tertiary);
  color: var(--text-secondary);
}

.conn-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: #e94560;
}

.conn-pill.connected .conn-dot {
  background: #4ecca3;
}

/* Collapsible fieldset sections */
.collapsible-legend {
  cursor: pointer;
  user-select: none;
}

.collapse-arrow {
  font-size: 10px;
  display: inline-block;
  transition: transform 0.15s;
}

.collapsible.collapsed .collapse-arrow {
  transform: rotate(-90deg);
}

.collapsible.collapsed > div {
  display: none;
}

/* Settings source toggles */
.source-toggles {
  border: 1px solid var(--border-secondary);
  border-radius: 4px;
  padding: 8px 12px;
  margin-bottom: 12px;
}

.source-toggles legend {
  color: var(--text-secondary);
  font-size: 12px;
  padding: 0 4px;
}

.checkbox-label {
  display: flex !important;
  flex-direction: row !important;
  align-items: center;
  gap: 6px;
  margin-bottom: 6px;
}

.checkbox-label input[type="checkbox"] {
  width: auto;
  margin-top: 0;
}

.settings-footer {
  text-align: center;
  margin-top: 16px;
  font-size: 12px;
  color: var(--text-tertiary);
}

.settings-version {
  color: var(--text-dim);
  margin-bottom: 4px;
}

.settings-version a {
  color: var(--text-tertiary);
}

.settings-coffee {
  margin-bottom: 4px;
}

.settings-coffee a {
  color: #f0a500;
}

.settings-links {
  display: flex;
  justify-content: center;
  gap: 8px;
}

.footer-dot {
  color: var(--text-dimmer);
}

.settings-footer a {
  color: var(--accent-blue);
  text-decoration: none;
  cursor: pointer;
}

.settings-footer a:hover {
  text-decoration: underline;
  color: #81d4fa;
}

/* Radio config fieldset */
.radio-config {
  border: 1px solid var(--border-secondary);
  border-radius: 4px;
  padding: 8px 12px;
  margin-bottom: 12px;
}

.radio-config legend {
  color: var(--text-secondary);
  font-size: 12px;
  padding: 0 4px;
}

.radio-label {
  display: flex !important;
  flex-direction: row !important;
  align-items: center;
  gap: 6px;
  margin-bottom: 4px;
}

.radio-label input[type="radio"] {
  width: auto;
  margin-top: 0;
}

/* Radio sub-panels (Flex slice picker, Hamlib config) */
.radio-sub {
  margin-top: 4px;
  margin-left: 12px;
  margin-bottom: 8px;
  padding: 8px 12px;
  border-left: 2px solid var(--border-secondary);
  background: var(--bg-panel);
  border-radius: 0 4px 4px 0;
}

.radio-sub label {
  margin-bottom: 8px;
}

.radio-sub select {
  width: 100%;
}


/* My Rigs list */
#my-rigs-list {
  margin-bottom: 8px;
}

.rig-item {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 6px 10px;
  margin-bottom: 4px;
  border-radius: 4px;
  background: var(--bg-panel);
  border: 1px solid var(--border-secondary);
  cursor: pointer;
}

.rig-item:hover {
  background: var(--bg-hover);
}

.rig-item.active {
  border-color: var(--accent-blue);
  background: var(--bg-hover);
}

.rig-item input[type="radio"] {
  width: auto;
  margin: 0;
  flex-shrink: 0;
}

.rig-item-info {
  flex: 1;
  min-width: 0;
  overflow: hidden;
}

.rig-item-name {
  font-size: 13px;
  color: var(--text-primary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.rig-item-desc {
  font-size: 11px;
  color: var(--text-tertiary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.rig-item-btn {
  background: transparent;
  border: none;
  color: var(--text-tertiary);
  font-size: 12px;
  cursor: pointer;
  padding: 2px 6px;
  border-radius: 3px;
  flex-shrink: 0;
}

.rig-item-btn:hover {
  background: var(--bg-hover);
  color: var(--text-primary);
}

.rig-item-btn.rig-delete-btn:hover {
  background: var(--tint-red);
  color: var(--accent-red);
}

/* --- Cluster node list --- */
.node-item {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 6px 10px;
  margin-bottom: 4px;
  border-radius: 4px;
  background: var(--bg-panel);
  border: 1px solid var(--border-secondary);
}

.node-item input[type="checkbox"] {
  width: auto;
  margin: 0;
  flex-shrink: 0;
}

.node-item-info {
  flex: 1;
  min-width: 0;
  overflow: hidden;
}

.node-item-name {
  font-size: 13px;
  color: var(--text-primary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.node-item-host {
  font-size: 11px;
  color: var(--text-tertiary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.node-status-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--text-tertiary);
  flex-shrink: 0;
}

.node-status-dot.connected {
  background: #4ecca3;
}

.node-item-btn,
.node-delete-btn {
  background: transparent;
  border: none;
  color: var(--text-tertiary);
  font-size: 12px;
  cursor: pointer;
  padding: 2px 6px;
  border-radius: 3px;
  flex-shrink: 0;
}

.node-delete-btn:hover {
  background: var(--tint-red);
  color: var(--accent-red);
}

.cluster-add-row {
  display: flex;
  gap: 6px;
  margin-top: 6px;
  align-items: center;
}

.cluster-add-row select {
  flex: 1;
}

.rig-action-btn {
  display: block;
  width: 100%;
  padding: 6px;
  margin-bottom: 8px;
  font-size: 13px;
  background: var(--bg-tertiary);
  color: var(--accent-blue);
  border: 1px dashed var(--border-secondary);
  border-radius: 4px;
  cursor: pointer;
  text-align: center;
}

.rig-action-btn:hover {
  background: var(--bg-hover);
  border-style: solid;
}

/* Rig editor panel */
#rig-editor {
  border: 1px solid var(--accent-blue);
  border-radius: 4px;
  padding: 12px;
  margin-top: 8px;
  background: var(--bg-panel);
}

#rig-editor h4 {
  color: var(--accent-blue);
  margin-bottom: 10px;
  font-size: 13px;
}

.rig-editor-buttons {
  display: flex;
  gap: 8px;
  margin-top: 10px;
}

.rig-editor-buttons button:first-child {
  background: var(--accent-green);
  color: var(--bg-primary);
  border-color: var(--accent-green);
  font-weight: bold;
}

.rig-editor-buttons button:first-child:hover {
  background: #3db892;
}

/* Hamlib rig list box */
#set-rig-model {
  height: auto;
  max-height: 160px;
  overflow-y: auto;
}

#set-rig-search {
  width: 100%;
}

#hamlib-test-btn {
  white-space: nowrap;
}

.hamlib-test-success {
  color: var(--accent-green);
}

.hamlib-test-fail {
  color: var(--accent-red);
}

/* Welcome dialog */
.welcome-text {
  font-size: 13px;
  color: var(--text-secondary);
  margin-bottom: 16px;
}

.welcome-beta-note {
  margin-top: 12px;
  padding: 10px 12px;
  background: var(--tint-green);
  border: 1px solid var(--accent-green);
  border-radius: 4px;
  font-size: 12px;
  color: var(--text-secondary);
  line-height: 1.5;
}

.welcome-beta-note a {
  color: var(--accent-blue);
  text-decoration: none;
  cursor: pointer;
}

.welcome-beta-note a:hover {
  text-decoration: underline;
}

#welcome-dialog {
  max-width: 420px;
}

.welcome-field {
  display: block;
  margin-bottom: 8px;
}



.welcome-radio-section {
  background: var(--bg-tertiary);
  border: 1px solid var(--border-primary);
  border-radius: 6px;
  padding: 10px 12px;
  margin-bottom: 10px;
}

.welcome-radio-section a {
  color: var(--accent-blue);
}

.welcome-import-section {
  background: var(--bg-tertiary);
  border: 1px solid var(--border-primary);
  border-radius: 6px;
  padding: 10px 12px;
  margin-bottom: 10px;
}

.welcome-import-section a {
  color: var(--accent-blue);
}

.welcome-import-row {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 6px 0;
}

.welcome-import-row + .welcome-import-row {
  border-top: 1px solid var(--border-primary);
}

.welcome-import-info {
  flex: 1;
  min-width: 0;
}

.welcome-import-btn {
  padding: 4px 12px;
  font-size: 12px;
  flex-shrink: 0;
}

.welcome-import-result {
  font-size: 12px;
  flex-shrink: 0;
  min-width: 80px;
}

.welcome-import-result.success {
  color: #4ecca3;
}

.welcome-import-result.error {
  color: var(--accent-red);
}

/* DXCC Tracker */
#dxcc-view {
  display: flex;
  flex-direction: column;
  height: 100%;
}

.dxcc-header {
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 8px 16px;
  background: var(--bg-secondary);
  border-bottom: 1px solid var(--border-primary);
}

.dxcc-filter-label {
  font-size: 12px;
  color: var(--text-secondary);
  display: flex;
  align-items: center;
  gap: 6px;
}

.dxcc-filter-label select {
  background: var(--bg-primary);
  color: var(--text-primary);
  border: 1px solid var(--border-primary);
  border-radius: 4px;
  padding: 3px 6px;
  font-size: 12px;
  cursor: pointer;
}

.dxcc-progress {
  font-size: 13px;
  color: var(--text-secondary);
  display: flex;
  align-items: center;
  gap: 8px;
}

#dxcc-count {
  font-weight: bold;
  color: var(--accent-green);
  font-family: Consolas, "Courier New", monospace;
}

#dxcc-award-label {
  color: #4ecca3;
  font-weight: bold;
}

.dxcc-challenge {
  font-size: 12px;
  color: var(--text-tertiary);
  margin-left: auto;
  font-family: Consolas, "Courier New", monospace;
}

.dxcc-table-container {
  flex: 1;
  overflow: auto;
}

.dxcc-matrix {
  width: 100%;
  border-collapse: collapse;
  table-layout: auto;
}

.dxcc-matrix thead th {
  background: var(--bg-secondary);
  position: sticky;
  top: 0;
  padding: 6px 4px;
  text-align: center;
  font-size: 11px;
  text-transform: uppercase;
  color: var(--text-secondary);
  border-bottom: 2px solid var(--border-primary);
  cursor: default;
  z-index: 2;
}

.dxcc-matrix thead th:hover {
  color: var(--text-secondary);
}

.dxcc-entity-col {
  text-align: left !important;
  min-width: 180px;
  position: sticky;
  left: 0;
  background: var(--bg-secondary);
  z-index: 3 !important;
  padding-left: 12px !important;
}

.dxcc-cont-col {
  min-width: 40px;
}

.dxcc-band-col {
  width: 50px;
  min-width: 40px;
}

.dxcc-matrix tbody td {
  padding: 4px 4px;
  text-align: center;
  font-size: 12px;
  border-bottom: 1px solid var(--border-primary);
  white-space: nowrap;
}

.dxcc-matrix tbody td:first-child {
  text-align: left;
  padding-left: 12px;
  position: sticky;
  left: 0;
  background: inherit;
  z-index: 1;
}

.dxcc-matrix tbody td:nth-child(2) {
  color: var(--text-tertiary);
  font-size: 11px;
}

.dxcc-matrix tbody tr:nth-child(even) {
  background: var(--bg-primary);
}

.dxcc-matrix tbody tr:nth-child(odd) {
  background: var(--bg-secondary);
}

.dxcc-matrix tbody tr:hover {
  background: var(--bg-hover);
}

.dxcc-confirmed {
  color: var(--accent-green);
  font-weight: bold;
}

.dxcc-unworked {
  opacity: 0.4;
}

#dxcc-placeholder {
  text-align: center;
  padding: 60px 20px;
  color: var(--text-tertiary);
  font-size: 15px;
}

/* Out-of-privilege spots */
.out-of-privilege {
  opacity: 0.35;
}

.out-of-privilege .freq-link {
  text-decoration: line-through;
  color: #ff6b6b;
}

.out-of-privilege .qrz-link {
  color: #ff6b6b;
}

/* Already-worked spots — subtle tint, not dimmed */
/* Checkmark for any previously worked callsign (any day) */
.already-worked .callsign-cell::before {
  content: "\2713 ";
  color: #4ecca3;
  font-size: 11px;
}

/* Dim only if worked today (same UTC date) */
.worked-today {
  color: #9999aa;
}

.worked-today .freq-link,
.worked-today .qrz-link {
  color: #9999aa;
}

/* Band Activity Heatmap */
#band-activity-bar {
  background: var(--bg-secondary);
  border-top: 1px solid var(--border-primary);
  padding: 6px 10px;
  overflow-x: auto;
}

.band-activity-grid {
  display: grid;
  gap: 1px;
  font-size: 10px;
  font-family: Consolas, "Courier New", monospace;
  min-width: fit-content;
}

.band-activity-header {
  text-align: center;
  color: var(--text-secondary);
  font-weight: bold;
  text-transform: uppercase;
  padding: 2px 4px;
  white-space: nowrap;
}

.band-activity-label {
  color: var(--text-secondary);
  font-weight: bold;
  padding: 2px 6px;
  white-space: nowrap;
  display: flex;
  align-items: center;
}

.band-activity-cell {
  text-align: center;
  padding: 2px 4px;
  border-radius: 2px;
  min-width: 28px;
  color: var(--text-tertiary);
}

.band-activity-cell.heat-0 {
  background: var(--bg-primary);
  color: var(--text-dimmer);
}

.band-activity-cell.heat-1 {
  background: #2a1a2e;
  color: #c080a0;
}

.band-activity-cell.heat-2 {
  background: #3d1a2a;
  color: #e0708a;
}

.band-activity-cell.heat-3 {
  background: #4d1a24;
  color: var(--accent-red);
  font-weight: bold;
}

/* RBN View */
#rbn-view {
  display: flex;
  flex-direction: column;
  height: 100%;
}

.rbn-header {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 8px 16px;
  background: var(--bg-secondary);
  border-bottom: 1px solid var(--border-primary);
}

.rbn-spot-count {
  font-size: 13px;
  color: var(--text-secondary);
}

.rbn-age-filter {
  display: flex !important;
  align-items: center;
  gap: 4px;
  font-size: 13px;
  color: var(--text-secondary);
  margin-bottom: 0 !important;
}

.rbn-age-filter input,
.rbn-age-filter select {
  margin-top: 0;
}

#rbn-count {
  font-weight: bold;
  color: var(--accent-blue);
  font-family: Consolas, "Courier New", monospace;
}

#rbn-map-container {
  flex: 3;
  min-height: 80px;
  overflow: hidden;
}

#rbn-map {
  width: 100%;
  height: 100%;
  background: var(--bg-primary);
}

#rbn-splitter {
  height: 5px;
  background: var(--border-primary);
  cursor: row-resize;
  flex-shrink: 0;
}

#rbn-splitter:hover {
  background: var(--accent-red);
}

#rbn-table-container {
  flex: 2;
  min-height: 60px;
  overflow-y: auto;
  overflow-x: hidden;
}

#rbn-table {
  width: 100%;
  border-collapse: collapse;
  table-layout: fixed;
}

#rbn-table thead th {
  background: var(--bg-secondary);
  position: sticky;
  top: 0;
  padding: 6px 8px;
  text-align: left;
  font-size: 11px;
  text-transform: uppercase;
  color: var(--text-secondary);
  border-bottom: 2px solid var(--border-primary);
  cursor: default;
  user-select: none;
  z-index: 2;
}

#rbn-table tbody tr {
  border-bottom: 1px solid var(--border-primary);
}

#rbn-table tbody tr:hover {
  background: var(--bg-hover);
}

#rbn-table tbody td {
  padding: 4px 8px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  font-size: 13px;
}

#rbn-table tbody td:nth-child(4) {
  font-family: Consolas, "Courier New", monospace;
}

#rbn-map .leaflet-popup-content-wrapper {
  background: var(--bg-secondary);
  color: var(--text-primary);
  border-radius: 6px;
}

#rbn-map .leaflet-popup-tip {
  background: var(--bg-secondary);
}

#rbn-map .leaflet-popup-content {
  margin: 10px 14px;
  font-size: 13px;
  line-height: 1.5;
}

.rbn-legend {
  display: flex;
  gap: 10px;
  align-items: center;
  margin-left: auto;
}

.rbn-legend-item {
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: 11px;
  color: var(--text-secondary);
}

.rbn-legend-swatch {
  display: inline-block;
  width: 10px;
  height: 10px;
  border-radius: 50%;
}

/* QSO Logging */
.log-col {
  display: none;
  width: 40px;
  max-width: 40px;
}

.logging-enabled .log-col {
  display: table-cell;
}

/* Beam heading column */
.bearing-col {
  display: none;
}

.bearing-enabled .bearing-col {
  display: table-cell;
}

.log-cell {
  text-align: center;
  overflow: hidden;
  text-overflow: clip;
}

.log-btn {
  font-size: 11px;
  padding: 2px 6px;
  border-radius: 3px;
  background: var(--tint-green);
  color: var(--accent-green);
  border: 1px solid var(--accent-green);
  cursor: pointer;
  white-space: nowrap;
}

.log-btn:hover {
  background: var(--accent-green);
  color: var(--bg-primary);
}

.log-btn.logged {
  background: var(--tint-green);
  color: var(--accent-green);
  opacity: 0.6;
  pointer-events: none;
}

/* Log dialog */
#log-dialog {
  min-width: 340px;
  max-width: 400px;
}

.log-dialog-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 12px;
}

.log-dialog-header h3 {
  margin-bottom: 0;
}

.log-dialog-x {
  background: transparent;
  border: none;
  color: var(--text-tertiary);
  font-size: 20px;
  cursor: pointer;
  padding: 0 4px;
  line-height: 1;
}

.log-dialog-x:hover {
  color: var(--accent-red);
  background: transparent;
}

.log-save-btn {
  background: var(--accent-green) !important;
  color: var(--bg-primary) !important;
  font-weight: bold;
  border-color: var(--accent-green) !important;
}

.log-save-btn:hover {
  background: #3db892 !important;
}

.respot-network-bar {
  padding: 6px 10px;
  border-left: 3px solid;
  border-radius: 3px;
  font-size: 13px;
  font-weight: 500;
  margin: 8px 0;
  background: rgba(255,255,255,0.03);
}

.respot-info {
  margin: 8px 0;
}
.respot-row {
  display: flex;
  gap: 8px;
  margin-bottom: 4px;
  font-size: 13px;
}
.respot-label {
  color: var(--text-tertiary);
  min-width: 70px;
}
.respot-value {
  color: var(--text-primary);
  font-weight: 500;
}

.rst-digits {
  display: flex;
  gap: 3px;
}
.rst-digit {
  width: 28px;
  text-align: center;
  font-size: 14px;
  font-weight: bold;
  padding: 4px 0;
}

.rst-quick-btn {
  font-size: 11px;
  padding: 2px 6px;
  border-radius: 3px;
  background: var(--bg-tertiary);
  color: var(--text-secondary);
  border: 1px solid var(--border-secondary);
  cursor: pointer;
  min-width: 32px;
}

.rst-quick-btn:hover {
  background: var(--bg-hover);
  color: var(--text-primary);
}

.rst-quick-btn.active {
  background: var(--accent-green);
  color: var(--bg-primary);
  border-color: var(--accent-green);
}

/* QSO Log Viewer dialog */
.log-delete-btn {
  background: none;
  border: none;
  color: var(--text-tertiary);
  cursor: pointer;
  padding: 2px 6px;
  font-size: 14px;
  line-height: 1;
}

.log-delete-btn:hover {
  color: var(--accent-red);
}

.log-delete-btn.confirming {
  color: var(--accent-red);
  font-weight: bold;
}

.stat-sep {
  opacity: 0.3;
}

/* Map popup log button */
.log-popup-btn {
  background: var(--tint-green);
  color: var(--accent-green);
  border: 1px solid var(--accent-green);
  padding: 3px 10px;
  border-radius: 3px;
  cursor: pointer;
  margin-top: 4px;
  margin-left: 4px;
  font-size: 12px;
}

.log-popup-btn:hover {
  background: var(--accent-green);
  color: var(--bg-primary);
}

/* Log toast notification */
.log-toast {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: var(--tint-green);
  color: var(--accent-green);
  padding: 8px 16px;
  border-radius: 4px;
  border: 1px solid var(--accent-green);
  font-size: 13px;
  max-width: 420px;
  z-index: 10001;
  animation: log-toast-fade 2s ease-in-out forwards;
}

.log-toast.warn {
  background: var(--tint-orange);
  color: #f0a500;
  border-color: #f0a500;
  animation: log-toast-fade-long 8s ease-in-out forwards;
}

.log-toast.sticky {
  animation: log-toast-enter 0.3s ease-out forwards;
  cursor: pointer;
  padding-right: 28px;
}

.log-toast-dismiss {
  position: absolute;
  top: 4px;
  right: 8px;
  font-size: 16px;
  opacity: 0.6;
}

.log-toast-dismiss:hover {
  opacity: 1;
}

@keyframes log-toast-enter {
  0% { opacity: 0; transform: translateY(10px); }
  100% { opacity: 1; transform: translateY(0); }
}

@keyframes log-toast-fade {
  0% { opacity: 0; transform: translateY(10px); }
  15% { opacity: 1; transform: translateY(0); }
  85% { opacity: 1; transform: translateY(0); }
  100% { opacity: 0; transform: translateY(-10px); }
}

@keyframes log-toast-fade-long {
  0% { opacity: 0; transform: translateY(10px); }
  5% { opacity: 1; transform: translateY(0); }
  90% { opacity: 1; transform: translateY(0); }
  100% { opacity: 0; transform: translateY(-10px); }
}

/* Toggle switch */
.switch-label {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 13px;
  color: var(--text-secondary);
  margin-bottom: 6px;
  cursor: pointer;
}

.switch {
  position: relative;
  width: 36px;
  height: 20px;
  flex-shrink: 0;
}

.switch input {
  opacity: 0;
  width: 0;
  height: 0;
  position: absolute;
}

.switch-slider {
  position: absolute;
  inset: 0;
  background: var(--bg-tertiary);
  border: 1px solid var(--border-secondary);
  border-radius: 10px;
  transition: background 0.2s, border-color 0.2s;
  cursor: pointer;
}

.switch-slider::before {
  content: "";
  position: absolute;
  left: 2px;
  top: 2px;
  width: 14px;
  height: 14px;
  background: var(--text-secondary);
  border-radius: 50%;
  transition: transform 0.2s, background 0.2s;
}

.switch input:checked + .switch-slider {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
}

.switch input:checked + .switch-slider::before {
  transform: translateX(16px);
  background: #fff;
}

.welcome-theme-switch {
  margin-top: 8px;
  margin-bottom: 4px;
}

.welcome-coffee {
  margin-top: 12px;
  text-align: center;
  font-size: 12px;
  color: var(--text-tertiary);
  line-height: 1.5;
}

.coffee-btn {
  display: inline-block;
  margin-top: 8px;
  padding: 6px 16px;
  background: #FFDD00;
  color: #000;
  border: 1px solid #e6c700;
  border-radius: 4px;
  font-weight: bold;
  font-size: 13px;
  cursor: pointer;
}

.coffee-btn:hover {
  background: #ffe940;
  color: #000;
}

/* CAT Log Panel */
#cat-log-panel {
  border-top: 1px solid var(--border-primary);
  background: var(--bg-secondary);
  display: flex;
  flex-direction: column;
  height: 150px;
  flex-shrink: 0;
}

.cat-log-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 4px 10px;
  background: var(--bg-tertiary);
  font-size: 12px;
  font-weight: bold;
  color: var(--text-secondary);
  border-bottom: 1px solid var(--border-primary);
}

.cat-log-header div {
  display: flex;
  gap: 4px;
}

.cat-log-header button {
  font-size: 11px;
  padding: 2px 8px;
  border-radius: 3px;
  background: var(--bg-secondary);
  color: var(--text-secondary);
  border: 1px solid var(--border-secondary);
  cursor: pointer;
}

.cat-log-header button:hover {
  background: var(--bg-hover);
  color: var(--text-primary);
}

#cat-log-output {
  flex: 1;
  width: 100%;
  resize: none;
  border: none;
  outline: none;
  background: var(--bg-input);
  color: var(--text-primary);
  font-family: Consolas, "Courier New", monospace;
  font-size: 11px;
  padding: 6px 10px;
  line-height: 1.4;
}

.cat-log-btn {
  cursor: pointer;
  background: var(--bg-tertiary) !important;
  color: var(--text-tertiary) !important;
  border: 1px solid var(--border-secondary) !important;
}

.cat-log-btn:hover {
  color: var(--text-primary) !important;
  background: var(--bg-hover) !important;
}

.cat-log-btn.active {
  background: var(--tint-green) !important;
  color: var(--accent-green) !important;
  border-color: var(--accent-green) !important;
}

/* Scrollbar theming */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--scrollbar-track);
}

::-webkit-scrollbar-thumb {
  background: var(--scrollbar-thumb);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--bg-hover);
}

/* WSJT-X heard indicator — pulsing right border on decoded POTA activators */
.wsjtx-heard {
  border-right: 3px solid #4fc3f7;
  animation: wsjtx-pulse 2s ease-in-out infinite;
}

@keyframes wsjtx-pulse {
  0%, 100% { border-right-color: #4fc3f7; }
  50% { border-right-color: #1a4080; }
}

/* New park indicator — green left border on POTA spots for unworked parks */
.new-park {
  border-left: 3px solid #66ff99 !important;
}

/* Parks stats toggle button in status bar */
.parks-stats-btn {
  cursor: pointer;
  background: var(--bg-tertiary) !important;
  color: var(--text-tertiary) !important;
  border: 1px solid var(--border-secondary) !important;
}

.parks-stats-btn:hover {
  color: var(--text-primary) !important;
  background: var(--bg-hover) !important;
}

.parks-stats-btn.active {
  background: var(--tint-green) !important;
  color: var(--accent-green) !important;
  border-color: var(--accent-green) !important;
}

/* Parks stats overlay panel */
#parks-stats-overlay {
  position: absolute;
  bottom: 12px;
  right: 12px;
  background: var(--bg-secondary);
  border: 1px solid var(--border-secondary);
  border-radius: 8px;
  padding: 0;
  font-size: 13px;
  color: var(--text-secondary);
  z-index: 500;
  min-width: 200px;
  box-shadow: 0 4px 16px var(--shadow-heavy);
}

.parks-stats-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 8px 12px;
  border-bottom: 1px solid var(--border-primary);
  font-weight: bold;
  font-size: 12px;
  color: var(--accent-green);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.parks-stats-header button {
  background: none;
  border: none;
  color: var(--text-tertiary);
  font-size: 16px;
  cursor: pointer;
  padding: 0 2px;
  line-height: 1;
}

.parks-stats-header button:hover {
  color: var(--text-primary);
}

.parks-stat {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 6px 12px;
  white-space: nowrap;
}

.parks-stat span {
  color: var(--text-tertiary);
  font-size: 12px;
}

.parks-stat strong {
  color: var(--text-primary);
  font-size: 14px;
  font-variant-numeric: tabular-nums;
}

.parks-stat strong.stat-highlight {
  color: var(--accent-green);
}

.parks-stats-divider {
  height: 1px;
  background: var(--border-primary);
  margin: 2px 12px;
}

/* CAT Popover — rig switcher dropdown */
.cat-popover {
  position: absolute;
  top: 100%;
  right: auto;
  z-index: 10001;
  background: var(--bg-secondary);
  border: 1px solid var(--border-secondary);
  border-radius: 6px;
  padding: 6px 0;
  min-width: 220px;
  max-width: 300px;
  box-shadow: 0 4px 16px var(--shadow-heavy);
}

.cat-popover.hidden {
  display: none !important;
}

.cat-popover-rigs {
  padding: 0;
}

.cat-popover-rig {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 6px 12px;
  cursor: pointer;
  font-size: 13px;
  color: var(--text-primary);
  border-left: 3px solid transparent;
}

.cat-popover-rig:hover {
  background: var(--bg-hover);
}

.cat-popover-rig.active {
  border-left-color: var(--accent-blue);
  background: var(--bg-hover);
}

.cat-popover-rig-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  border: 2px solid var(--text-tertiary);
  flex-shrink: 0;
}

.cat-popover-rig.active .cat-popover-rig-dot {
  background: var(--accent-blue);
  border-color: var(--accent-blue);
}

.cat-popover-rig-info {
  flex: 1;
  min-width: 0;
  overflow: hidden;
}

.cat-popover-rig-name {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.cat-popover-rig-desc {
  font-size: 11px;
  color: var(--text-tertiary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.cat-popover-divider {
  height: 1px;
  background: var(--border-primary);
  margin: 4px 8px;
}

.cat-popover-wsjtx {
  display: flex !important;
  align-items: center;
  gap: 6px;
  padding: 6px 12px;
  font-size: 13px;
  color: var(--text-primary);
  cursor: pointer;
  margin-bottom: 0 !important;
}

.cat-popover-wsjtx:hover {
  background: var(--bg-hover);
}

.cat-popover-wsjtx input[type="checkbox"] {
  width: auto;
  margin: 0;
  accent-color: var(--accent-blue);
}

.cat-popover-port {
  padding: 4px 12px 6px 30px;
  font-size: 12px;
}

.cat-popover-port label {
  display: flex;
  align-items: center;
  gap: 6px;
  color: var(--text-secondary);
  margin-bottom: 0;
}

.cat-popover-port input {
  margin-top: 0;
  width: auto;
}

/* CW Popover — volume/WPM dropdown from status bar */
.cw-popover {
  position: absolute;
  top: 100%;
  z-index: 10001;
  background: var(--bg-secondary);
  border: 1px solid var(--border-secondary);
  border-radius: 4px;
  padding: 8px 12px;
  margin-top: 4px;
  min-width: 200px;
  box-shadow: 0 4px 16px var(--shadow-heavy);
}

.cw-popover.hidden {
  display: none !important;
}

.cw-popover-row {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 4px 0;
  font-size: 12px;
  color: var(--text-primary);
}

.cw-popover-row label {
  min-width: 72px;
  color: var(--text-secondary);
  font-size: 11px;
  margin: 0;
}

.cw-popover-row span {
  font-size: 11px;
  min-width: 28px;
  color: var(--text-tertiary);
}

.cw-popover-row input[type="number"] {
  background: var(--bg-primary);
  border: 1px solid var(--border-primary);
  color: var(--text-primary);
  border-radius: 3px;
  padding: 2px 4px;
  font-size: 12px;
}

/* Hotkeys dialog */
#hotkeys-dialog {
  max-width: 340px;
}

#whats-new-dialog {
  max-width: 500px;
  width: 90vw;
}

.hotkeys-table {
  width: 100%;
  border-collapse: collapse;
}

.hotkeys-table td {
  padding: 6px 10px;
  font-size: 13px;
  border-bottom: 1px solid var(--border-primary);
}

.hotkeys-table tr:last-child td {
  border-bottom: none;
}

.hotkeys-table td:first-child {
  width: 80px;
  text-align: center;
}

.hotkeys-table kbd {
  display: inline-block;
  padding: 2px 8px;
  background: var(--bg-tertiary);
  border: 1px solid var(--border-secondary);
  border-radius: 4px;
  font-family: Consolas, "Courier New", monospace;
  font-size: 12px;
  color: var(--accent-blue);
  min-width: 32px;
  text-align: center;
}

/* Status bar hotkeys hint */
.hotkeys-hint {
  cursor: pointer;
  color: var(--text-dimmer);
  font-size: 11px;
  user-select: none;
}

.hotkeys-hint:hover {
  color: var(--text-secondary);
}

#cat-status {
  cursor: pointer;
  user-select: none;
}

#cat-status:hover {
  filter: brightness(1.2);
}

/* DX Command bar */
.dx-command-bar {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 4px 8px;
  background: var(--bg-secondary);
  border-top: 1px solid var(--border-primary);
  flex-shrink: 0;
}
.dx-command-bar.hidden { display: none; }
.dx-command-label { color: #e040fb; font-weight: 600; white-space: nowrap; font-size: 12px; }
.dx-command-node { font-size: 12px; max-width: 120px; }
.dx-command-input { flex: 1; font-size: 12px; font-family: monospace; }
.dx-command-btn { font-size: 11px; padding: 2px 10px; white-space: nowrap; }

/* === Activator Mode === */
#activator-view {
  display: flex;
  flex-direction: column;
  height: calc(100vh - 30px); /* minus titlebar */
  overflow: hidden;
}
#activator-view.hidden { display: none; }

.activator-toolbar {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  background: var(--bg-secondary);
  border-bottom: 1px solid var(--border-primary);
  flex-shrink: 0;
}

.activator-back-btn {
  background: none;
  border: 1px solid var(--border-secondary);
  color: var(--text-secondary);
  padding: 4px 10px;
  border-radius: 4px;
  cursor: pointer;
  font-size: 12px;
  white-space: nowrap;
}
.activator-back-btn:hover { background: var(--bg-hover); color: var(--text-primary); }

.activator-toolbar-sep {
  width: 1px;
  height: 20px;
  background: var(--border-secondary);
  flex-shrink: 0;
}

.activator-start-btn {
  background: var(--accent-green);
  border: none;
  color: #111;
  padding: 4px 14px;
  border-radius: 4px;
  cursor: pointer;
  font-size: 12px;
  font-weight: 700;
  white-space: nowrap;
}
.activator-start-btn:hover { filter: brightness(1.1); }
.activator-start-btn:disabled { opacity: 0.4; cursor: default; filter: none; }

.activator-stop-btn {
  background: var(--accent-red);
  border: none;
  color: #fff;
  padding: 4px 14px;
  border-radius: 4px;
  cursor: pointer;
  font-size: 12px;
  font-weight: 700;
  white-space: nowrap;
}
.activator-stop-btn:hover { filter: brightness(1.1); }
.activator-stop-btn.hidden { display: none; }

.activator-timer {
  font-family: monospace;
  font-size: 14px;
  font-weight: 600;
  color: var(--text-secondary);
  min-width: 50px;
  text-align: center;
}
.activator-timer.active { color: var(--accent-green); }

.activator-idle-msg {
  display: flex;
  align-items: center;
  justify-content: center;
  flex: 1;
  color: var(--text-tertiary);
  font-size: 15px;
}
.activator-idle-msg p { text-align: center; }

.act-log-dupe {
  color: #f0a500;
  font-size: 11px;
  margin-left: 4px;
  cursor: help;
}

.act-log-p2p {
  color: #4fc3f7;
  font-size: 10px;
  font-weight: 700;
  margin-left: 4px;
  background: rgba(79, 195, 247, 0.15);
  padding: 1px 4px;
  border-radius: 3px;
  cursor: help;
}

/* Park extra badge (+1, +2) */
.activator-park-extra {
  display: inline-block;
  background: var(--accent-green);
  color: #fff;
  font-size: 11px;
  font-weight: 700;
  padding: 1px 5px;
  border-radius: 8px;
  cursor: pointer;
  margin-left: 4px;
  vertical-align: middle;
}
.activator-park-extra:hover {
  background: #3db88a;
}

/* Hunter park input in quick-log bar */
.activator-hunter-park-wrap {
  position: relative;
  display: flex;
  align-items: center;
  gap: 2px;
}
#activator-hunter-park {
  width: 100px;
  font-family: monospace;
  font-size: 13px;
  padding: 4px 6px;
  background: var(--bg-input);
  border: 1px solid var(--border-primary);
  color: var(--text-primary);
  border-radius: 4px;
  text-transform: uppercase;
}
#activator-hunter-park:focus { border-color: #4fc3f7; outline: none; }
#activator-hunter-park::placeholder { color: var(--text-tertiary); font-size: 11px; }

/* Multi-park dialog */
#multipark-dialog {
  max-width: 420px;
  min-width: 340px;
}
.multipark-slots {
  display: flex;
  flex-direction: column;
  gap: 8px;
  margin: 8px 0;
}
.multipark-slot {
  position: relative;
}
.multipark-slot-row {
  display: flex;
  align-items: center;
  gap: 6px;
}
.multipark-ref-input {
  flex: 1;
  font-family: monospace;
  font-size: 14px;
  padding: 6px 8px;
  background: var(--bg-input);
  border: 1px solid var(--border-primary);
  color: var(--text-primary);
  border-radius: 4px;
  text-transform: uppercase;
}
.multipark-ref-input:focus { border-color: var(--accent-green); outline: none; }
.multipark-remove-btn {
  background: none;
  border: 1px solid var(--border-primary);
  color: var(--text-secondary);
  cursor: pointer;
  font-size: 16px;
  padding: 2px 8px;
  border-radius: 4px;
  line-height: 1;
}
.multipark-remove-btn:hover { color: var(--accent-red); border-color: var(--accent-red); }
.multipark-name {
  display: block;
  font-size: 12px;
  color: var(--accent-green);
  margin-top: 2px;
  margin-left: 2px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.multipark-add-btn {
  background: none;
  border: 1px dashed var(--border-primary);
  color: var(--text-secondary);
  padding: 6px 12px;
  border-radius: 4px;
  cursor: pointer;
  font-size: 12px;
  width: 100%;
  margin: 4px 0;
}
.multipark-add-btn:hover { border-color: var(--accent-green); color: var(--accent-green); }

.activator-continue-btn {
  background: var(--accent-blue);
  border: none;
  color: #111;
  padding: 4px 14px;
  border-radius: 4px;
  cursor: pointer;
  font-size: 12px;
  font-weight: 700;
  white-space: nowrap;
}
.activator-continue-btn:hover { filter: brightness(1.1); }

.activator-history-btn {
  background: none;
  border: 1px solid var(--border-secondary);
  color: var(--text-secondary);
  padding: 4px 10px;
  border-radius: 4px;
  cursor: pointer;
  font-size: 12px;
  white-space: nowrap;
}
.activator-history-btn:hover { background: var(--bg-hover); color: var(--text-primary); }

.activator-history-panel {
  border-bottom: 2px solid var(--border-primary);
  max-height: 300px;
  display: flex;
  flex-direction: column;
  flex-shrink: 0;
}
.activator-history-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 8px 12px 4px;
}
.activator-history-header h4 {
  margin: 0;
  font-size: 14px;
  color: var(--text-primary);
}
.activator-history-close {
  background: none;
  border: none;
  color: var(--text-tertiary);
  font-size: 18px;
  cursor: pointer;
  padding: 0 4px;
}
.activator-history-close:hover { color: var(--text-primary); }

.activator-history-list {
  overflow-y: auto;
  padding: 0 12px 8px;
}

.activator-history-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 8px 10px;
  border: 1px solid var(--border-primary);
  border-radius: 6px;
  margin-bottom: 6px;
  cursor: pointer;
  transition: background 0.15s;
}
.activator-history-item:hover { background: var(--bg-hover); }
.activator-history-item-ref {
  font-family: monospace;
  font-weight: 700;
  font-size: 14px;
  color: var(--accent-green);
  min-width: 80px;
}
.activator-history-item-date {
  font-size: 13px;
  color: var(--text-secondary);
  min-width: 90px;
}
.activator-history-item-count {
  font-size: 13px;
  color: var(--text-tertiary);
}
.activator-history-item-count .valid { color: var(--accent-green); font-weight: 600; }
.activator-history-item-resume {
  margin-left: auto;
  background: var(--accent-blue);
  border: none;
  color: #111;
  padding: 3px 12px;
  border-radius: 4px;
  cursor: pointer;
  font-size: 12px;
  font-weight: 600;
  white-space: nowrap;
}
.activator-history-item-resume:hover { filter: brightness(1.1); }

/* Expand arrow */
.activator-history-item-expand {
  font-size: 10px;
  color: var(--text-tertiary);
  width: 14px;
  flex-shrink: 0;
  transition: transform 0.15s;
}
/* Expandable detail section */
.activator-history-detail {
  border: 1px solid var(--border-primary);
  border-top: none;
  border-radius: 0 0 6px 6px;
  margin-top: -6px;
  margin-bottom: 6px;
  padding: 8px 10px;
  background: var(--bg-secondary);
}
.activator-history-wrapper { position: relative; }
.activator-history-actions {
  display: flex;
  gap: 8px;
  margin-bottom: 8px;
}
.act-hist-export-btn, .act-hist-map-btn {
  background: var(--accent-blue);
  border: none;
  color: #111;
  padding: 3px 10px;
  border-radius: 4px;
  cursor: pointer;
  font-size: 12px;
  font-weight: 600;
}
.act-hist-export-btn:hover, .act-hist-map-btn:hover { filter: brightness(1.1); }
.act-hist-delete-btn {
  background: transparent;
  border: 1px solid var(--accent-red);
  color: var(--accent-red);
  padding: 3px 10px;
  border-radius: 4px;
  cursor: pointer;
  font-size: 12px;
  font-weight: 600;
  margin-left: auto;
}
.act-hist-delete-btn:hover { background: var(--accent-red); color: #fff; }
.act-hist-delete-btn.confirm { background: var(--accent-red); color: #fff; animation: pulse-red 0.8s ease-in-out infinite; }
@keyframes pulse-red { 0%, 100% { opacity: 1; } 50% { opacity: 0.7; } }
/* History detail table */
.act-hist-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 12px;
  font-family: monospace;
}
.act-hist-table thead th {
  text-align: left;
  padding: 3px 6px;
  color: var(--text-tertiary);
  font-weight: 500;
  border-bottom: 1px solid var(--border-primary);
}
.act-hist-table tbody td {
  padding: 2px 6px;
  color: var(--text-secondary);
}
.act-hist-table tbody tr:hover { background: var(--bg-hover); }
/* Activation map panel */
.activation-map-panel {
  border-bottom: 2px solid var(--border-primary);
  display: flex;
  flex-direction: column;
  flex-shrink: 0;
}
.activation-map-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 6px 12px;
}
.activation-map-header h4 {
  margin: 0;
  font-size: 14px;
  color: var(--text-primary);
}
.activation-map {
  height: 320px;
  width: 100%;
  background: #0d1117;
}
/* Park pin on activation map */
.activation-map-park-icon { background: transparent; border: none; }
.act-map-park-pin {
  width: 16px;
  height: 16px;
  background: var(--accent-green);
  border: 2px solid #fff;
  border-radius: 50%;
  box-shadow: 0 0 6px rgba(78, 204, 163, 0.6);
}

.activator-park-input-wrap {
  position: relative;
}
#activator-park-ref {
  width: 120px;
  font-family: monospace;
  font-size: 14px;
  text-transform: uppercase;
  padding: 4px 8px;
  background: var(--bg-input);
  border: 1px solid var(--border-primary);
  color: var(--text-primary);
  border-radius: 4px;
}
#activator-park-ref:focus { border-color: var(--accent-green); outline: none; }

.activator-dropdown {
  position: absolute;
  top: 100%;
  left: 0;
  min-width: 350px;
  max-height: 250px;
  overflow-y: auto;
  background: var(--bg-primary);
  border: 1px solid var(--border-secondary);
  border-radius: 4px;
  z-index: 100;
  box-shadow: 0 4px 12px var(--shadow-heavy);
}
.activator-dropdown.hidden { display: none; }
.activator-dropdown-item {
  padding: 6px 10px;
  cursor: pointer;
  font-size: 13px;
  border-bottom: 1px solid var(--border-primary);
  display: flex;
  gap: 8px;
}
.activator-dropdown-item:last-child { border-bottom: none; }
.activator-dropdown-item:hover, .activator-dropdown-item.active { background: var(--bg-hover); }
.activator-dropdown-ref {
  font-family: monospace;
  font-weight: 600;
  color: var(--accent-green);
  white-space: nowrap;
}
.activator-dropdown-name {
  color: var(--text-secondary);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.activator-dropdown-loc {
  color: var(--text-tertiary);
  font-size: 11px;
  margin-left: auto;
  white-space: nowrap;
}

.activator-park-name {
  color: var(--accent-green);
  font-size: 13px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 300px;
}

.activator-freq-group {
  display: flex;
  align-items: center;
  gap: 4px;
}
#activator-freq {
  width: 90px;
  font-family: monospace;
  font-size: 14px;
  padding: 4px 8px;
  background: var(--bg-input);
  border: 1px solid var(--border-primary);
  color: var(--text-primary);
  border-radius: 4px;
  text-align: right;
}
#activator-freq:focus { border-color: var(--accent-green); outline: none; }
.activator-band-label {
  font-size: 12px;
  color: var(--text-tertiary);
  font-weight: 600;
  min-width: 30px;
}

.activator-counter {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 36px;
  height: 28px;
  border-radius: 14px;
  font-size: 16px;
  font-weight: 700;
  font-family: monospace;
  padding: 0 10px;
  background: var(--bg-tertiary);
  color: var(--accent-red);
  border: 2px solid var(--accent-red);
  transition: background 0.3s, color 0.3s, border-color 0.3s;
}
.activator-counter.valid {
  color: var(--accent-green);
  border-color: var(--accent-green);
  background: rgba(78, 204, 163, 0.15);
}

.activator-utc {
  font-family: monospace;
  font-size: 13px;
  color: var(--text-secondary);
  margin-left: auto;
}

.activator-export-btn {
  background: var(--bg-tertiary);
  border: 1px solid var(--border-secondary);
  color: var(--text-primary);
  padding: 4px 12px;
  border-radius: 4px;
  cursor: pointer;
  font-size: 12px;
  white-space: nowrap;
}
.activator-export-btn:hover { background: var(--bg-hover); }

.activator-map-btn {
  background: var(--bg-tertiary);
  border: 1px solid var(--border-secondary);
  color: var(--text-primary);
  padding: 4px 12px;
  border-radius: 4px;
  cursor: pointer;
  font-size: 12px;
  white-space: nowrap;
}
.activator-map-btn:hover { background: var(--bg-hover); }

/* Quick-log bar */
.activator-quick-log {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 12px;
  background: var(--bg-panel);
  border-bottom: 2px solid var(--border-primary);
  flex-shrink: 0;
}

#activator-callsign {
  width: 140px;
  font-family: monospace;
  font-size: 16px;
  padding: 6px 10px;
  background: var(--bg-input);
  border: 2px solid var(--border-primary);
  color: var(--text-primary);
  border-radius: 4px;
  letter-spacing: 1px;
}
#activator-callsign:focus { border-color: var(--accent-green); outline: none; }

.activator-rst-group {
  display: flex;
  align-items: center;
  gap: 4px;
}
.activator-rst-group label {
  font-size: 12px;
  color: var(--text-secondary);
  font-weight: 600;
}

.activator-op-name {
  color: var(--text-secondary);
  font-size: 13px;
  min-width: 80px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.activator-log-btn {
  background: var(--accent-green);
  border: none;
  color: #111;
  padding: 6px 20px;
  border-radius: 4px;
  cursor: pointer;
  font-size: 14px;
  font-weight: 700;
  white-space: nowrap;
}
.activator-log-btn:hover { filter: brightness(1.1); }
.activator-log-btn:active { filter: brightness(0.9); }

/* Activation log table */
.activator-log-table-wrap {
  flex: 1;
  overflow-y: auto;
  padding: 0;
}

#activator-log-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 13px;
}
#activator-log-table thead th {
  position: sticky;
  top: 0;
  background: var(--bg-secondary);
  padding: 6px 10px;
  text-align: left;
  font-size: 12px;
  color: var(--text-secondary);
  border-bottom: 1px solid var(--border-primary);
  z-index: 1;
}
#activator-log-table tbody td {
  padding: 5px 10px;
  border-bottom: 1px solid var(--border-primary);
  font-family: monospace;
  color: var(--text-primary);
}
#activator-log-table tbody tr:hover { background: var(--bg-hover); }
#activator-log-table .act-log-num { color: var(--text-tertiary); text-align: right; width: 30px; }
#activator-log-table .act-log-time { color: var(--text-secondary); width: 60px; }
#activator-log-table .act-log-call { color: var(--accent-blue); font-weight: 600; }
#activator-log-table .act-log-name { color: var(--text-secondary); }
#activator-log-table .act-log-freq { width: 80px; }
#activator-log-table .act-log-mode { width: 50px; }
#activator-log-table .act-log-rst { width: 40px; text-align: center; }
#activator-log-table .act-log-band { width: 50px; }

/* Settings radio labels */
.radio-label { cursor: pointer; display: inline-flex; align-items: center; gap: 4px; }

